/*! jQuery.tabify (https://github.com/Takazudo/jQuery.tabify)
 * lastupdate: 2014-02-19
 * version: 1.2.1
 * author: 'Takazudo' Takeshi Takatsudo <takazudo@gmail.com>
 * License: MIT */
(function(){var t=function(t,n){return function(){return t.apply(n,arguments)}},n={}.hasOwnProperty,e=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};(function(n,r){var i,o,s;return i=n(r),o=r.EveEve,s={},s.support={},s.support.transition=function(){var t;return(null!=(t=n.support)?t.transition:void 0)&&null!=n.fn.transition?!0:!1}(),s.normalizeEventData=function(t){return n.each(t,function(n,e){return null!=(null!=e?e.length:void 0)&&0===e.length?t[n]=null:void 0}),t},o&&(s.Router=function(n){function r(){this.onHashchange=t(this.onHashchange,this),this._eventify()}return e(r,n),r.create=function(){return s.router||(s.router=new s.Router),s.router},r.prototype._eventify=function(){return i.on("hashchange",this.onHashchange),this},r.prototype.onHashchange=function(){return this.trigger("hashchange",this.getCurrentHash()),this},r.prototype.getCurrentHash=function(){var t;return t=location.hash,""===t&&(t="#"),t=t.replace(/^#/,"")},r}(o)),s.Tab=function(){function t(t,e){this.$el=t,null==e&&(e={}),this.options=n.extend({},s.Tab.defaults,e),this._transitionEnabled=s.support.transition&&this.options.useTransition,this._firstTabHrefVal=this.getFirstTabHrefVal(),this.options.useHashchange&&(s.Router.create(),this.switchByHash(s.router.getCurrentHash(),!0)),this._eventify()}return o&&n.extend(t.prototype,o.prototype),t.defaults={selector_tab:".tab",selector_contentwrapper:".tabcontentwrapper",selector_content:".tabcontentdiv",tab_activeClass:null,content_activeClass:null,attr_target:"data-tabify-target",attr_id:"data-tabify-id",useFade:!1,useTransition:!1,fadeDuration:400,useHashchange:!1,allow_noactive:!1},t.prototype._eventify=function(){return this.options.useHashchange?s.router.on("hashchange",function(t){return function(n){return t.switchByHash(n)}}(this)):this.$el.delegate(this.options.selector_tab,"click",function(t){return function(e){return e.preventDefault(),t.switchFromOpener(n(e.currentTarget))}}(this)),this},t.prototype._trigger=function(t,n){return this.$el.trigger(t,n),o?this.trigger(t,n):this},t.prototype.switchFromOpener=function(t,e){var r,i,o,a,u,h;if(null==e&&(e=!1),r=this.$lastContentEl||function(t){return function(){return t.$lastContentEl=t.$el.find("."+t.options.content_activeClass)}}(this)(),i=this.getRelatedContentEl(t),u=!1,r[0]===i[0]){if(!this.options.allow_noactive)return this;u=!0}return o=u?n.Deferred():null,null!=(h=this._lastFadeDefer)&&h.reject(),u?this.disableContentEl(r,!0,function(){return o.resolve()}):this.disableContentEl(r,!1,null),this.options.useFade&&!e&&(this.makeContentElsToAbsolute(),u?(this.fixWrapperTo(r),o.done(function(t){return function(){return t.hideWrapper()}}(this))):(this.showWrapper(),this.fixWrapperTo(i))),a={},u?(a.lastTabEl=t,a.tabEl=null,a.lastContentEl=r,a.contentEl=null):(a.lastTabEl=this.getLastTab(),a.tabEl=t,a.lastContentEl=r,a.contentEl=i),a=s.normalizeEventData(a),this.$lastContentEl=u?null:i,this._trigger("tabify.switch",a),u||this._trigger("tabify.beforeswitchanimation",a),u||(this._lastFadeDefer=this.activateContentEl(i,e),this._lastFadeDefer.done(function(t){return function(){return t._trigger("tabify.afterswitchanimation",a)}}(this))),this.disableActiveTab(),u||this.activateTab(t),this},t.prototype.getWrapperEl=function(){return this.$wrapper||function(t){return function(){return t.$wrapper=t.$el.find(t.options.selector_contentwrapper),t.$wrapper}}(this)()},t.prototype.fixWrapperTo=function(t){return this.getWrapperEl().height(t.outerHeight()),this},t.prototype.hideWrapper=function(){return this.getWrapperEl().hide(),this},t.prototype.showWrapper=function(){return this.getWrapperEl().show(),this},t.prototype.adjustWrapperHeight=function(){return this.$lastContentEl?(this.fixWrapperTo(this.$lastContentEl),this):this},t.prototype.makeContentElsToAbsolute=function(){var t;return t=this.$el.find(this.options.selector_content),t.css({position:"absolute",left:0,top:0}),this},t.prototype.activateContentEl=function(t,e){var r;return r=n.Deferred(function(n){return function(r){var i,o,s;return o=n.options.content_activeClass,i=function(){return t.addClass(o),r.resolve()},n.options.useFade&&!e?(s=n.options.fadeDuration,n._transitionEnabled?t.show().css("opacity",0).transition({opacity:1},s,i):t.fadeTo(s,1,i)):i()}}(this))},t.prototype.disableContentEl=function(t,n,e){var r,i;return i=function(n){return function(){return t.removeClass(n.options.content_activeClass),"function"==typeof e?e():void 0}}(this),this.options.useFade?n?(r=this.options.fadeDuration,this._transitionEnabled?t.stop().transition({opacity:0},r,i):t.fadeTo(r,0,i)):(this._transitionEnabled?t.stop().css("opacity",0).hide():t.stop().fadeTo(0,0).hide(),i()):i(),this},t.prototype.getFirstTabHrefVal=function(){var t,n;if(t=this.$el.find(this.options.selector_tab).eq(0),n=t.attr("href"),null==n&&(n=t.attr(this.options.attr_target)),null!=n)return n=n.replace(/^#/,"");throw Error("getFirstTabHrefVal had some troubles")},t.prototype.getLastTab=function(){return this.$lastTab||function(t){return function(){var e,r;return r=t.options.tab_activeClass,e=t.$el.find(t.options.selector_tab),t.$lastTab=e.filter(function(t,e){return n(e).hasClass(r)}),t.$lastTab}}(this)()},t.prototype.activateTab=function(t){return t.addClass(this.options.tab_activeClass),this.$lastTab=t,this},t.prototype.disableActiveTab=function(){var t;return t=this.options.tab_activeClass,this.getLastTab().removeClass(t),this},t.prototype.getRelatedContentEl=function(t){var e,r,i,o;if(e=this.$el.find(this.options.selector_content),i=t.attr("href"),null!=i&&(i=i.replace(/^#/,"")),o=t.attr(this.options.attr_target),r=e.filter(function(t){return function(e,r){var s,a;return s=n(r),a=s.attr(t.options.attr_id),null==a&&(a=s.attr("id")),null==a||a!==i&&a!==o?!1:!0}}(this)),1!==r.length)throw Error("getRelatedContentEl had some troubles.");return r},t.prototype.switchByHash=function(t,n){return null==n&&(n=!1),""===t&&(t=this._firstTabHrefVal),this.switchById(t,n)},t.prototype.switchById=function(t,e){var r;return null==e&&(e=!1),r=this.$el.find(this.options.selector_tab).filter(function(e,r){return n(r).attr("href")==="#"+t}),r.length&&this.switchFromOpener(r,e),this},t.prototype.switchByTabId=function(t,e){var r;return null==e&&(e=!1),r=this.$el.find(this.options.selector_tab).filter(function(e){return function(r,i){return n(i).attr(e.options.attr_target)===t}}(this)),r.length&&this.switchFromOpener(r,e),this},t}(),n.fn.tabify=function(t){return this.each(function(){var e,r;e=n(this),r=new s.Tab(e,t),e.data("tabify",r)})},n.Tabify=s})(jQuery,window,document)}).call(this);