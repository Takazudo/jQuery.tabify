/*! jQuery.tabify (https://github.com/Takazudo/jQuery.tabify)
 * lastupdate: 2013-09-09
 * version: 1.2.1
 * author: 'Takazudo' Takeshi Takatsudo <takazudo@gmail.com>
 * License: MIT */
(function(){(function(t){var n;return n={},n.support={},n.support.transition=function(){var n;return(null!=(n=t.support)?n.transition:void 0)&&null!=t.fn.transition?!0:!1}(),n.normalizeEventData=function(n){return t.each(n,function(t,e){return null!=(null!=e?e.length:void 0)&&0===e.length?n[t]=null:void 0}),n},n.Tab=function(){function e(e,i){this.$el=e,null==i&&(i={}),this.options=t.extend({},n.Tab.defaults,i),this._transitionEnabled=n.support.transition&&this.options.useTransition,this._eventify()}return e.defaults={selector_tab:".tab",selector_contentwrapper:".tabcontentwrapper",selector_content:".tabcontentdiv",tab_activeClass:null,content_activeClass:null,attr_target:"data-tabify-target",attr_id:"data-tabify-id",changeHash:!1,useFade:!1,useTransition:!1,fadeDuration:400,allow_noactive:!1},e.prototype._eventify=function(){var n=this;return this.$el.delegate(this.options.selector_tab,"click",function(e){return n.options.changeHash!==!0&&e.preventDefault(),n.switchFromOpener(t(e.currentTarget))}),this},e.prototype.switchFromOpener=function(e){var i,o,r,s,a,l,h=this;if(i=this.$lastContentEl||function(){return h.$lastContentEl=h.$el.find("."+h.options.content_activeClass)}(),o=this.getRelatedContentEl(e),a=!1,i[0]===o[0]){if(!this.options.allow_noactive)return this;a=!0}return r=a?t.Deferred():null,null!=(l=this._lastFadeDefer)&&l.reject(),a?this.disableContentEl(i,!0,function(){return r.resolve()}):this.disableContentEl(i,!1,null),this.options.useFade&&(this.makeContentElsToAbsolute(),a?(this.fixWrapperTo(i),r.done(function(){return h.hideWrapper()})):(this.showWrapper(),this.fixWrapperTo(o))),s={},a?(s.lastTabEl=e,s.tabEl=null,s.lastContentEl=i,s.contentEl=null):(s.lastTabEl=this.getLastTab(),s.tabEl=e,s.lastContentEl=i,s.contentEl=o),s=n.normalizeEventData(s),this.$lastContentEl=a?null:o,this.$el.trigger("tabify.switch",s),a||this.$el.trigger("tabify.beforeswitchanimation",s),a||(this._lastFadeDefer=this.activateContentEl(o),this._lastFadeDefer.done(function(){return h.$el.trigger("tabify.afterswitchanimation",s)})),this.disableActiveTab(),a||this.activateTab(e),this},e.prototype.getWrapperEl=function(){var t=this;return this.$wrapper||function(){return t.$wrapper=t.$el.find(t.options.selector_contentwrapper),t.$wrapper}()},e.prototype.fixWrapperTo=function(t){return this.getWrapperEl().height(t.outerHeight()),this},e.prototype.hideWrapper=function(){return this.getWrapperEl().hide(),this},e.prototype.showWrapper=function(){return this.getWrapperEl().show(),this},e.prototype.adjustWrapperHeight=function(){return this.$lastContentEl?(this.fixWrapperTo(this.$lastContentEl),this):this},e.prototype.makeContentElsToAbsolute=function(){var t;return t=this.$el.find(this.options.selector_content),t.css({position:"absolute",left:0,top:0}),this},e.prototype.activateContentEl=function(n){var e,i=this;return e=t.Deferred(function(t){var e,o,r;return o=i.options.content_activeClass,e=function(){return n.addClass(o),t.resolve()},i.options.useFade?(r=i.options.fadeDuration,i._transitionEnabled?n.show().css("opacity",0).transition({opacity:1},r,e):n.fadeTo(r,1,e)):e()})},e.prototype.disableContentEl=function(t,n,e){var i,o,r=this;return o=function(){return t.removeClass(r.options.content_activeClass),"function"==typeof e?e():void 0},this.options.useFade?n?(i=this.options.fadeDuration,this._transitionEnabled?t.stop().transition({opacity:0},i,o):t.fadeTo(i,0,o)):(this._transitionEnabled?t.stop().css("opacity",0).hide():t.stop().fadeTo(0,0).hide(),o()):o(),this},e.prototype.getLastTab=function(){var n=this;return this.$lastTab||function(){var e,i;return i=n.options.tab_activeClass,e=n.$el.find(n.options.selector_tab),n.$lastTab=e.filter(function(n,e){return t(e).hasClass(i)}),n.$lastTab}()},e.prototype.activateTab=function(t){return t.addClass(this.options.tab_activeClass),this.$lastTab=t,this},e.prototype.disableActiveTab=function(){var t;return t=this.options.tab_activeClass,this.getLastTab().removeClass(t),this},e.prototype.getRelatedContentEl=function(n){var e,i,o,r,s=this;return e=this.$el.find(this.options.selector_content),r=n.attr(this.options.attr_target),r&&(i=e.filter(function(n,e){return t(e).attr(s.options.attr_id)===r?!0:!1}),1===i.length)?i:(o=n.attr("href"),this.$el.find(o))},e.prototype.switchById=function(n){var e;return this.options.changeHash&&(location.href="#"+n),e=this.$el.find(this.options.selector_tab).filter(function(e,i){return t(i).attr("href")==="#"+n}),e.length&&this.switchFromOpener(e),this},e.prototype.switchByTabId=function(n){var e,i=this;return e=this.$el.find(this.options.selector_tab).filter(function(e,o){return t(o).attr(i.options.attr_target)===n}),e.length&&this.switchFromOpener(e),this},e}(),t.fn.tabify=function(e){return this.each(function(){var i,o;i=t(this),o=new n.Tab(i,e),i.data("tabify",o)})},t.Tabify=n})(jQuery,window,document)}).call(this);